--- kernel/nvidia-uvm/uvm_linux.h	2016-08-05 13:58:05.183371192 +0200
+++ kernel/nvidia-uvm/uvm_linux.h	2016-08-05 14:00:58.798676341 +0200
@@ -554,11 +554,13 @@
     INIT_RADIX_TREE(tree, GFP_NOWAIT);
 }
 
+#if LINUX_VERSION_CODE < KERNEL_VERSION(4,7,0)
 static bool radix_tree_empty(struct radix_tree_root *tree)
 {
     void *dummy;
     return radix_tree_gang_lookup(tree, &dummy, 0, 1) == 0;
 }
+#endif
 
 
 #if !defined(NV_USLEEP_RANGE_PRESENT)
--- kernel/nvidia-drm/nvidia-drm-fb.c	2016-08-05 14:07:21.897084787 +0200
+++ kernel/nvidia-drm/nvidia-drm-fb.c	2016-08-05 14:08:28.922131436 +0200
@@ -114,7 +114,11 @@
      * We don't support any planar format, pick up first buffer only.
      */
 
+#if LINUX_VERSION_CODE < KERNEL_VERSION(4,7,0)
     gem = drm_gem_object_lookup(dev, file, cmd->handles[0]);
+#else
+    gem = drm_gem_object_lookup(file, cmd->handles[0]);
+#endif
 
     if (gem == NULL)
     {
--- kernel/nvidia-drm/nvidia-drm-gem.c	2016-08-05 14:09:23.969165845 +0200
+++ kernel/nvidia-drm/nvidia-drm-gem.c	2016-08-05 14:09:55.994184400 +0200
@@ -408,7 +408,11 @@
 
     mutex_lock(&dev->struct_mutex);
 
+#if LINUX_VERSION_CODE < KERNEL_VERSION(4,7,0)
     gem = drm_gem_object_lookup(dev, file, handle);
+#else
+    gem = drm_gem_object_lookup(file, handle);
+#endif
 
     if (gem == NULL)
     {
--- kernel/nvidia-drm/nvidia-drm-gem.c	2016-08-05 14:19:52.042398975 +0200
+++ kernel/nvidia-drm/nvidia-drm-gem.c	2016-08-05 14:20:19.338404910 +0200
@@ -24,6 +24,7 @@
 
 #if defined(NV_DRM_AVAILABLE)
 
+#include <linux/version.h>
 #include "nvidia-drm-priv.h"
 #include "nvidia-drm-ioctl.h"
 #include "nvidia-drm-gem.h"
--- kernel/nvidia-drm/nvidia-drm-fb.c	2016-08-05 14:20:48.371410992 +0200
+++ kernel/nvidia-drm/nvidia-drm-fb.c	2016-08-05 14:21:15.688416499 +0200
@@ -24,6 +24,7 @@
 
 #if defined(NV_DRM_ATOMIC_MODESET_AVAILABLE)
 
+#include <linux/version.h>
 #include "nvidia-drm-priv.h"
 #include "nvidia-drm-ioctl.h"
 #include "nvidia-drm-fb.h"
